Trying to work everything learnt into single file 